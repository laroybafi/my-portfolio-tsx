{"version":3,"sources":["../../../../src/server/lib/router-utils/setup-dev.ts"],"names":["setupDev","verifyTypeScript","opts","usingTypeScript","verifyResult","verifyTypeScriptSetup","dir","distDir","nextConfig","intentDirs","pagesDir","appDir","filter","Boolean","typeCheckPreflight","tsconfigPath","typescript","disableStaticImages","images","hasAppDir","hasPagesDir","version","startWatcher","useFileSystemPublicRoutes","path","join","traceGlobals","set","PHASE_DEVELOPMENT_SERVER","validFileMatcher","createValidFileMatcher","pageExtensions","renderWorkers","propagateToWorkers","field","args","app","propagateServerField","pages","hotReloader","turbo","loadBindings","require","bindings","jsConfig","loadJsConfig","project","createProject","projectPath","rootPath","experimental","outputFileTracingRoot","watch","env","process","iter","entrypointsSubscribe","curEntries","Map","globalEntries","undefined","document","error","handleEntries","entrypoints","pagesAppEndpoint","pagesDocumentEndpoint","pagesErrorEndpoint","clear","pathname","route","routes","type","Log","info","catch","err","console","exit","e","buildManifests","appBuildManifests","pagesManifests","appPathsManifests","mergeBuildManifests","manifests","manifest","devFiles","ampDevFiles","polyfillFiles","lowPriorityFiles","rootMainFiles","ampFirstPages","m","Object","assign","length","mergeAppBuildManifests","mergePagesManifests","processResult","result","global","_nextDeleteCache","serverPaths","map","p","concat","resolve","issue","issues","severity","filePath","title","description","clearCache","writeBuildManifest","buildManifest","values","buildManifestPath","writeFile","JSON","stringify","content","__rewrites","afterFiles","beforeFiles","fallback","fromEntries","keys","sortedPages","buildManifestJs","srcEmptySsgManifest","writeAppBuildManifest","appBuildManifest","appBuildManifestPath","APP_BUILD_MANIFEST","writePagesManifest","pagesManifest","pagesManifestPath","PAGES_MANIFEST","writeAppPathsManifest","appPathsManifest","appPathsManifestPath","APP_PATHS_MANIFEST","writeMiddlewareManifest","middlewareManifestPath","sortedMiddleware","middleware","functions","writeOtherManifests","loadableManifestPath","fontManifestPath","NEXT_FONT_MANIFEST","appUsingSizeAdjust","pagesUsingSizeAdjust","mkdir","recursive","Proxy","get","_target","prop","_receiver","ensureOpts","page","match","definition","loadPartialManifest","name","pageName","isApp","isRoute","manifestPath","posix","parse","readFile","loadBuildManifest","BUILD_MANIFEST","loadAppBuildManifest","loadPagesManifest","loadAppPathManifest","routeHandler","writeToDisk","PageNotFoundError","Error","writtenEndpoint","endpoint","htmlEndpoint","req","_res","url","startsWith","params","matchNextPageBundleRequest","decodedPagePath","param","decodeURIComponent","ensurePage","clientOnly","finished","HotReloader","config","buildId","telemetry","rewrites","fsChecker","previewProps","prerenderManifest","preview","start","nextScriptWorkers","verifyPartytownSetup","CLIENT_STATIC_FILES_PATH","ensureCallback","ensure","item","itemPath","resolved","prevSortedRoutes","serverFields","Promise","reject","fs","readdir","_","files","directories","rootDir","getPossibleMiddlewareFilenames","getPossibleInstrumentationHookFilenames","nestedMiddleware","envFiles","file","push","tsconfigPaths","wp","Watchpack","ignored","some","d","fileWatchTimes","enabledTypeScript","previousClientRouterFilters","previousConflictingPagePaths","Set","on","generateInterceptionRoutesRewrites","middlewareMatchers","routedPages","knownFiles","getTimeInfoEntries","appPaths","pageNameSet","conflictingAppPagePaths","appPageFilePaths","pagesPageFilePaths","envChange","tsconfigChange","conflictingPageChange","hasRootAppNotFound","appFiles","pageFiles","fileName","meta","includes","watchTime","watchTimeChange","timestamp","endsWith","accuracy","isPageFile","isAppPath","normalizePathSep","isPagePath","rootFile","absolutePathToPage","extensions","keepIndex","pagesType","isMiddlewareFile","staticInfo","getStaticInfoIncludingLayouts","pageFilePath","isDev","isInsideAppDir","output","actualMiddlewareFile","matchers","regexp","originalSource","isInstrumentationHookFile","instrumentationHook","NextBuildContext","hasInstrumentationHook","actualInstrumentationHookFile","isRootNotFound","isAppRouterPage","originalPageName","normalizeAppPath","replace","add","nextDataRoutes","has","test","numConflicting","size","errorMessage","appPath","relative","pagesPath","setHmrServerError","clearHmrServerError","clientRouterFilters","clientRouterFilter","createClientRouterFilter","clientRouterFilterRedirects","_originalRedirects","r","internal","clientRouterFilterAllowedRate","then","loadEnvConfig","dev","forceReload","silent","tsconfigResult","activeConfigs","forEach","idx","isClient","isNodeServer","isEdgeServer","hasRewrites","plugins","plugin","jsConfigPlugin","resolvedBaseUrl","currentResolvedBaseUrl","resolvedUrlIndex","modules","findIndex","splice","compilerOptions","paths","key","definitions","__NEXT_DEFINE_ENV","newDefine","getDefineEnv","invalidate","reloadAfterInvalidation","NestedMiddlewareError","message","appPathRoutes","entries","k","v","sort","hasAppNotFound","middlewareMatcher","getMiddlewareRouteMatcher","interceptionRoutes","buildCustomRoute","basePath","caseSensitiveRoutes","exportPathMap","outDir","value","source","destination","query","qs","sortedRoutes","getSortedRoutes","dynamicRoutes","regex","getRouteRegex","getRouteMatcher","re","groups","buildDataRoute","routeRegex","toString","i18n","RegExp","dataRouteRegex","every","val","send","devPagesManifest","warn","startTime","clientPagesManifestPath","DEV_CLIENT_PAGES_MANIFEST","devVirtualFsItems","devMiddlewareManifestPath","DEV_MIDDLEWARE_MANIFEST","requestHandler","res","parsedUrl","statusCode","setHeader","end","logErrorWithOriginalStack","usedOriginalStack","isError","stack","frames","parseStack","frame","find","lineNumber","moduleId","modulePath","src","getErrorSource","isEdgeCompiler","COMPILER_NAMES","edgeServer","compilation","edgeServerStats","serverStats","getSourceById","sep","originalFrame","createOriginalStackFrame","line","column","rootDirectory","serverCompilation","edgeCompilation","originalCodeFrame","originalStackFrame","methodName","logAppDirError","ensureMiddleware","isSrcDir","record","eventCliSession","webpackVersion","turboFlag","cliCommand","isCustomServer","hasNowJson","findUp","cwd"],"mappings":"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"}